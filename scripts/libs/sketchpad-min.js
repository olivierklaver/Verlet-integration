(function(t){"use strict";function u(){t.init();(function(){if(document.getElementById(n)){o&&print("you can only have 1 sketchpad canvas","warn");return}var r=document.getElementsByTagName("head")[0];r.innerHTML='<meta http-equiv="X-UA-Compatible" content="chrome=IE8">'+r.innerHTML;var i=document.querySelectorAll(t.canvasContainerSelector)[0],u=document.createElement("section");u.id=n;i.appendChild(u);var a=document.getElementById(n),f=document.createElement("canvas");f.id="sketchpadCanvas";a.appendChild(f);f.addEventListener("contextmenu",function(e){e.preventDefault()},!0);s=f.getContext("2d");s.fillStyle="#000";s.strokeStyle="#000";f.innerHTML="<span>Sorry, but sketchpad requires canvas support</span>";t.size()})();t.context=s;t.setup();(function(){var t=0,n=["ms","moz","webkit","o"];for(var r=0;r<n.length&&!window.requestAnimationFrame;++r){window.requestAnimationFrame=window[n[r]+"RequestAnimationFrame"];window.cancelAnimationFrame=window[n[r]+"CancelAnimationFrame"]||window[n[r]+"CancelRequestAnimationFrame"]}window.requestAnimationFrame||(window.requestAnimationFrame=function(e,n){var r=(new Date).getTime(),i=Math.max(0,16-(r-t)),s=window.setTimeout(function(){e(r+i)},i);t=r+i;return s});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})})();var e=0;(function r(n){requestAnimationFrame(r);var i=n-e,s=(1e3/t.frameRate).toFixed(0);if(i<s-3)return;e=n;t.draw()})(0);o&&print("Sketchpad is running")}t.canvasContainerSelector="body";t.frameRate=60;t.width;t.height;t.context;t.mouseX=null;t.mouseY=null;t.mouseIsPressedLeft=!1;t.mouseIsPressedRight=!1;t.key="";t.keyIsPressed=!1;var n="sketchpad",r=100,i=100,s,o=!1;t.init||(t.init=function(){});t.setup||(t.setup=function(){});t.draw||(t.draw=function(){});t.size=function(e,n){if(!e||e<r)e=r;if(!n||n<r)n=r;var i=document.getElementById("sketchpadCanvas");i.width=e;i.height=n;t.width=e;t.height=n};t.background=function(e){s.fillStyle=e;s.fillRect(0,0,s.canvas.width,s.canvas.height)};t.parameter=function(e,t,n,r,i){objParameter(window,e,t,n,r,i)};t.objParameter=function(e,t,r,i,s,o){i||0;s||100;o||1;e[t]<i&&(i=e[t]);e[t]>s&&(s=e[t]);var u=document.getElementById(n);u.appendChild(document.createElement("br"));var a=document.createElement("input");a.type="range";a.name=r;a.min=i;a.max=s;a.step=o;a.value=e[t];a.onchange=function(n){var r=n.target,i=document.getElementById(r.name);i.innerHTML="<span class='lpn'>"+r.name+" = </span><span class='lpv'>"+r.value+"</span>";e[t]=Number(r.value)};u.appendChild(a);var f=document.createElement("label");f.htmlFor=r;f.id=r;f.innerHTML="<span class='lpn'>"+r+" = </span><span class='lpv'>"+e[t]+"</span>";u.appendChild(f)};var a=function(e){var n=e.clientX+window.pageXOffset,r=e.clientY+window.pageYOffset,i=c(n,r);t.mouseX=i.x;t.mouseY=i.y;t.mouseMoved(i.x,i.y)};t.mouseMoved||(t.mouseMoved=function(e,t){});window.addEventListener("mousemove",a,!1);var f=function(e){e.target.id==="sketchpadCanvas"&&e.preventDefault();var n=e.clientX,r=e.clientY,i=c(n,r),s;if(e.button===0){s="left";t.mouseIsPressedLeft=!0}else{s="right";t.mouseIsPressedRight=!0}t.mousePressed(s,i.x,i.y)};t.mousePressed||(t.mousePressed=function(e,t,n){});window.addEventListener("mousedown",f,!0);var l=function(e){var n=e.clientX,r=e.clientY,i=c(n,r),s;if(e.button===0){s="left";t.mouseIsPressedLeft=!1}else{s="right";t.mouseIsPressedRight=!1}t.mouseReleased(s,i.x,i.y)};t.mouseReleased||(t.mouseReleased=function(e,t,n){});window.addEventListener("mouseup",l,!1);var c=function(e,t){var n=document.getElementById("sketchpadCanvas");if(!n)return{x:e,y:t};var r=e-n.offsetLeft,i=t-n.offsetTop;return{x:r,y:i}},h=function(e){var n=d(e.keyCode);n.length==1&&e.shiftKey&&(n=n.toLocaleUpperCase());t.keyIsPressed=!0;t.key=n;t.keyPressed(n)};t.keyPressed||(t.keyPressed=function(e){});window.addEventListener("keydown",h,!1);var p=function(e){var n=d(e.keyCode);n.length==1&&e.shiftKey&&(n=n.toLocaleUpperCase());t.keyIsPressed=!1;t.key="";t.keyReleased(n)};t.keyReleased||(t.keyReleased=function(e){});window.addEventListener("keyup",p,!1);var d=function(e){var t={8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Spacebar",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",45:"Insert",46:"Del",91:"Command",93:"Command",12:"NumLock",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"Multiply",107:"Add",109:"Subtract",110:"Decimal",111:"Divide",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",124:"F13",125:"F14",126:"F15",127:"F16",128:"F17",129:"F18",130:"F19",131:"F20",132:"F21",133:"F22",134:"F23",135:"F24",59:";",61:"=",186:";",187:"=",188:",",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},n=t[e];return n?n.toLowerCase():""};window.print=function(e,t){t||(t=0);switch(t){case"warn":console.warn(e);break;case"error":console.error(e);break;default:console.log(e)}};window.addEventListener("DOMContentLoaded",u,!1)})(window);